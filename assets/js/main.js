console.log("This site was generated by Hugo.");

function setTheme(theme) {
  document.documentElement.setAttribute("data-theme", theme);
  localStorage.setItem("theme", theme);
}

function detectTheme() {
  const savedTheme = localStorage.getItem("theme");
  if (savedTheme) {
    setTheme(savedTheme);
  } else {
    const systemPrefersDark = window.matchMedia(
      "(prefers-color-scheme: dark)"
    ).matches;
    setTheme(systemPrefersDark ? "dark" : "light");
  }
}

detectTheme();

document.addEventListener("DOMContentLoaded", () => {
  document.querySelectorAll(".nav-link:not(.active)").forEach((navLink) => {
    navLink.addEventListener("mousedown", function () {
      this.classList.add("nav-link-pressed");
    });
    navLink.addEventListener("pointerup", function () {
      this.classList.remove("nav-link-pressed");
    });
    navLink.addEventListener("pointerleave", function () {
      this.classList.remove("nav-link-pressed");
    });
  });

  document.querySelectorAll(".social-icon-container").forEach((socialIcon) => {
    const socialIconHover = socialIcon.querySelector(".social-icon-hover");

    socialIcon.addEventListener("mousedown", function () {
      socialIconHover.classList.add("active");
    });
    socialIcon.addEventListener("pointerup", function () {
      socialIconHover.classList.remove("active");
    });
    socialIcon.addEventListener("pointerleave", function () {
      socialIconHover.classList.remove("active");
    });
  });

  document
    .querySelectorAll(".menu-social-icon-container")
    .forEach((socialIcon) => {
      const socialIconHover = socialIcon.querySelector(
        ".menu-social-icon-hover"
      );

      socialIcon.addEventListener("mousedown", function () {
        socialIconHover.classList.add("active");
      });
      socialIcon.addEventListener("pointerup", function () {
        socialIconHover.classList.remove("active");
      });
      socialIcon.addEventListener("pointerleave", function () {
        socialIconHover.classList.remove("active");
      });

      document
        .getElementById("hamburger-open")
        .addEventListener("click", function () {
          document.getElementById("sidebar").classList.add("active");
        });
      document
        .getElementById("hamburger-close")
        .addEventListener("click", function () {
          document.getElementById("sidebar").classList.remove("active");
        });
    });

  const themeToggle = document.querySelector("#theme-toggle");
  const themeToggleHover = document.querySelector("#theme-toggle-hover");
  themeToggle.addEventListener("click", () => {
    const currentTheme = document.documentElement.getAttribute("data-theme");
    setTheme(currentTheme === "dark" ? "light" : "dark");
  });

  themeToggleHover.addEventListener("mousedown", function () {
    themeToggleHover.classList.add("active");
  });
  themeToggleHover.addEventListener("pointerup", function () {
    themeToggleHover.classList.remove("active");
  });
  themeToggleHover.addEventListener("pointerleave", function () {
    themeToggleHover.classList.remove("active");
  });
});
